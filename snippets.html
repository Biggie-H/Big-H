<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Big H — Snippets</title>
  <link href="styles.css" rel="stylesheet" />
  <!-- Wavesurfer from CDN -->
  <script src="https://unpkg.com/wavesurfer.js"></script>
</head>
<body class="dark">
  <header class="site-header">
    <div class="logo">BIG H</div>
    <nav class="nav">
      <a href="index.html">Home</a>
      <a href="snippets.html">Snippets</a>
      <a href="gallery.html">Gallery</a>
      <a href="links.html">Links</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <main class="container">
    <h2 class="page-title">Unmastered Snippets</h2>
    <p class="muted">Raw cuts — uploaded here so you can preview and give feedback.</p>

    <section class="tracks-grid">
      <!-- Track 1 -->
      <article class="track-card">
        <div class="track-meta">
          <div class="track-title">WIP — Midnight Glow</div>
          <div class="track-sub">rough mix • 1:02</div>
        </div>
        <div class="wave" id="wave1"></div>
        <div class="track-controls">
          <button class="play-btn" data-player="1">Play</button>
          <a class="download" href="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" target="_blank" download>Download</a>
        </div>
      </article>

      <!-- Track 2 -->
      <article class="track-card">
        <div class="track-meta">
          <div class="track-title">WIP — Neon Prayer</div>
          <div class="track-sub">rough mix • 0:46</div>
        </div>
        <div class="wave" id="wave2"></div>
        <div class="track-controls">
          <button class="play-btn" data-player="2">Play</button>
          <a class="download" href="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" target="_blank" download>Download</a>
        </div>
      </article>
    </section>

    <p class="hint">Tip: You can replace the MP3 links in <code>/assets/audio/</code> (or the remote URLs) with your own uploads later.</p>

  </main>

  <footer class="footer">
    <div>© BIG H</div>
  </footer>

  <script>
    // Create wavesurfer instances
    const players = {};
    function createPlayer(id, src, containerId) {
      const ws = WaveSurfer.create({
        container: containerId,
        waveColor: '#2ee6ff',
        progressColor: '#a14bff',
        height: 80,
        responsive: true,
        barWidth: 2,
        normalize: true
      });
      ws.load(src);
      players[id] = ws;
    }

    createPlayer(1, 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3', '#wave1');
    createPlayer(2, 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3', '#wave2');

    // play buttons
    document.querySelectorAll('.play-btn').forEach(btn => {
      btn.addEventListener('click', async (e)=>{
        const id = e.currentTarget.dataset.player;
        const p = players[id];
        if (!p) return;
        if (p.isPlaying()) { p.pause(); e.currentTarget.textContent = 'Play'; }
        else { 
          // pause others
          Object.values(players).forEach(x=>x.isPlaying() && x.pause());
          p.play();
          e.currentTarget.textContent = 'Pause';
        }
      });
    });

    // update play buttons when finished
    Object.values(players).forEach(p => p.on && p.on('finish', ()=>{
      document.querySelectorAll('.play-btn').forEach(b=>b.textContent='Play');
    }));
  </script>
</body>
</html>
